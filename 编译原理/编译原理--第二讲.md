# 					编译原理--第二讲

# 										       高级程序设计语言概述

## 2.1常用的高级程序设计语言

|   语言    |          特点          |
| :-------: | :--------------------: |
|  FORTRAN  |        数值计算        |
|   COBOL   |        事务处理        |
|  PASCAL   |     结构化程序设计     |
|   LISP    |     函数式程序设计     |
|  PROLOG   |      逻辑程序设计      |
|     C     |      系统程序设计      |
| Smalltalk |    面向对象程序设计    |
|   Java    | Internet应用、可移植性 |
|  Python   |    解释型、动态编程    |

### 		相对于机器语言、汇编语言，高级程序设计语言的优点：

#### 				更接近于数学语言和工程语言，更直观、自然和易于理解

#### 				更容易验证其正确性、改错

#### 				编写程序的效率高

#### 				更容易移植

## 2.2程序设计语言的定义

#### <!--程序本质上是一定字符集的字符串-->		

### 		语法：一组规则，用它可以形成和产生一个合适（well-formed）的程序

##### 					词法规则：单词符号的形成规则

###### 							1、单词符号是语言中具有独立意义的最基本结构

###### 							2、一般包括：常数、标识符、基本字、算符、界符等

###### 							3、描述工具：有限自动机

##### 					语法规则：语法单位的形成规则

###### 							1、语法单位通常包括：表达式、语句、分程序、过程、函数、程序等

###### 							2、描述工具：上下文无关文法

### 		语义：一组规则，用它可以定义一个程序的意义

#### 				描述方法：

###### 							1、自然语言描述：二义性、隐藏错误和不完整性

###### 							2、形式描述：1、操作语义	2、指称语义	3、代数语义

#### <!--程序，本质上说是描述一定数据的处理过程-->

#### 				程序语言的基本功能：描述数据和对数据的运算

#### 				程序语言的层次结构：程序	-->	子程序或分程序、过程、函数	-->	语句	-->	表达式	-->	数据引用、运算符、函数调用

#### 				程序语言成分的逻辑和实现意义：1、抽象的逻辑意义（数学意义）	2、计算机的实现意义（具体实现）

#### 				<!--语用-->

## 2.3高级程序设计语言的一般特性

### 		高级语言分类：

##### 					1、强制式语言（Imperative Language）/过程式语言	

##### 					2、应用式语言（Applicative Language）

###### 							注重程序所表示的功能，而不是一个语句接一个语句地执行，比如 LISP、ML语言

##### 					3、基于规则的语言（Rule-based Language）

###### 							检查一定的条件，当它满足值，则执行适当的动作，比如 Prolog语言

##### 					4、面向对象语言（Object-Oriented Language）

###### 							封装、继承和多态性，比如 Smalltalk、c++、Java语言

### 		程序结构：

##### 					1、FORTRAN语言

###### 							主程序：PROGRAM ...... end

###### 							辅程序1：SUBROUTINE ...... end

###### 							辅程序2：FUNCTION ...... end

###### 							1、一个程序由一个主程序和若干辅程序段组成

###### 							2、辅程序段可以是子程序、函数段或数据块

###### 							3、每个程序段由一系列的说明语句和执行语句组成，各段可以独立编译

###### 							4、模块结构，没有嵌套和递归

###### 							5、各程序段中的名字相互独立，同一个标识符在不同的程序段中代表不同的名字 

##### 					2、PASCAL语言

###### 							PASCAL程序本身可以看成是一个操作系统调用额过程，过程可以嵌套和递归

```pascal
//一个PASCAL过程：
过程头：
		说明段（由一系列的说明语句组成）；
begin
		执行体（由一系列的执行语句组成）；
end
```

##### 					同一个标识符在不同过程中代表不同的名字

##### 					作用域：一个名字能被使用的区域

##### 					名字作用域规则：最近嵌套原则

#### 			数据类型与操作：

##### 					数据类型通常包括三要素：

###### 							1、用于区别这种类型数据对象的==属性==

###### 							2、这种类型的数据对象可以具有的==值==

###### 							3、可以作用于这种类型的数据对象的==操作==

#### 			标识符与名字：

##### 					标识符：以字母开头的，由字母数字组成的字符串，它是语法概念

##### 					名字：标识程序中的对象，它有确切的意义和属性

##### 					名字的意义和属性：

###### 							值：单元中的内容

###### 							属性：作用域和类型

##### 					名字的说明方法：

###### 							1、由说明语句来明确规定的

###### 							2、隐含说明

###### 							3、动态确定

#### 			数据结构：

##### 					逻辑上：数组是由同一类型数据组成的某种 n 维矩形结构，沿着每一维的距离，称为==下标==

##### 					数组可变与不可变：编译时能否确定其存储空间的大小

##### 					访问：给出数组名和下标值，如A[10, i+j]

##### 					存放方式：按行存放、按列存放

#### 			数组元素地址计算：

##### 					数组 A[10, 20] 的 A[1, 1] 的地址为 a ，每个元素占 1字节，各维下标从1开始，按行存放，那么 A[i, j]地址为：a + (i-1)*20 + (j-1)

##### 					设 A 为 n 维数组，按行存放，每个元素宽度为 W 

###### 							$low_i$：为第 i 维的下界

###### 							$up_i$：  为第 i 维的上界

###### 							$n_i$：为第 i 维可取值的个数($n_i$ = $up_i$ - $low_i$ + 1)

###### 							base：为 A 的第一元素相对地址

##### 					通用公式：

###### 							常量部分c = ((...((low1*n2+low2)*n3+low3)...)*nk+lowk) * w 		

###### 							变量部分v =  ((...((i1*n2+i2)*n3+i3...)*nk+ik)*w 		

###### 							a[i1,i2,…in] 的地址 = base-c+v

##### 					内情向量：登记维数，各维的上，下限，首地址，以及数组（元素）的类型等信息

| $low_1$ | $up_1$ | $n_1$ |
| :-----: | :----: | :---: |
| $low_2$ | $up_2$ | $n_2$ |
|   ...   |  ...   |  ...  |
| $low_k$ | $up_k$ | $n_k$ |
|    k    |  Con   |  Con  |
|  type   |  base  | base  |

##### 					记录：由已知类型的数据组合在一起的一种结构

##### 					记录或者结构的元素，也叫域（field）或者是字段

```pascal
record {
		char name[20];
		integer age;
		bool married;
} cards[1000];
//访问：复合名 cards[k].name
//存储：连续存放
//域的地址计算：相对于记录结构起点的相对数OFFSET
```

##### 					字符串：符号处理、公式处理

##### 					表格：本质上是一种记录结构

##### 					线性表：一组顺序化的记录结构

##### 					栈：一种线性表，后进先出（POP，PUSH）

##### 					抽象数据类型：抽象数据类型由数据集合、及其相关的操作组成，这些操作有明确的定义，而且定义不依赖于具体实现

##### 					三要素：1、数据对象集合	2、作用于这些数据对象的抽象运算的集合	3、这种类型对象的封装，即，除了使用类型中所定义的运算外，用户不能对这些对象进行操作

#### 			程序设计语言对抽象数据类型的支持：

##### 					Ada 通过程序包（Package)提供了数据封装的支持

##### 					Smalltalk、C++、Java 通过类（Class）对抽象数据类型提供支持		

#### 			语句与控制结构：

#### 				表达式：

###### 							1、表达式由运算量（也称操作数，即数据引用或函数调用）和算符（运算符、操作符）组成

###### 							2、形式：前缀（X*Y）中缀（-A）后缀（P->）

###### 							3、表达式规则：1、变量（包括下标变量）、常数是表达式	2、若 $E_1$、$E_2$ 为表达式，$\theta$ 是一个运算符，则 $E_1$ $\theta$ $E_2$是表达式	3、若 E 是表达式，$\theta$  为一个运算符，则 $\theta$E 或者 E$\theta$ 是表达式	4、若 E 是表达式，则 (E) 也是表达式

#### 			算符的优先次序：

##### 					一般的规定：1、PASCAL：左结合 A + B + C = (A + B) + C

##### 										   2、FORTRAN：对于满足左、右结合的算符可任取一种，如 A+B+C 就可以处理成 (A+B)+C，也可以理解成 A+(B+C)

##### 										   3、代数性质：1、代数性质能引用到什么程度视具体的语言而定	2、在数学上成立的代数性质在计算机上未必成立

#### 			语句：

##### 					赋值语句：A := B，名字的左值：该名字代表的存储单元的==地址==	名字的右值：该名字代表的存储单元的==内容==

##### 					控制语句：1、无条件转移语句： goto

##### 										2、条件语句： if else	if then else

##### 										3、循环语句：while do	repeat until	for

##### 										4、过程调用语句：call

##### 										5、返回语句：return 

##### 					语句的分类：

##### 											功能：1、执行语句：描述程序的动作

##### 														2、说明语句：定义各种不同数据类型的变量或运算，定义名字的性质

##### 											形式：1、简单句：不包含其他语句成分的基本句

##### 														2、复合句：句中有句的语句

##  2.4小结

### 		程序语言的定义：语法、语义、程序语言的功能

### 		高级语言的一般特性：高级语言的分类、程序结构、数据结构与操作、语句与控制结构